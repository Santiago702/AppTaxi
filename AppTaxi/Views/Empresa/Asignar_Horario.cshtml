@model ModeloVista
@{
    ViewData["Title"] = "Asignar Horarios";
    Layout = "~/Views/Shared/_LayoutEmpresa.cshtml";
}

<h1>Asignar Horarios</h1>

@if (Model.Conductor.IdConductor != 0)
{
    <div class="card">
        <div class="card-body">
            <!-- Formulario para un único horario -->
            <h3>Asignar un único horario</h3>
            <form asp-action="Crear_Horario" method="post">
                <input type="hidden" asp-for="Conductor.IdConductor" />

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Fecha: </strong></label>
                    <div class="col-sm-10">
                        <input type="date" class="form-control" asp-for="Horario.Fecha" required>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Hora de Inicio: </strong></label>
                    <div class="col-sm-10">
                        <input type="time" class="form-control" asp-for="Horario.HoraInicio" required>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Hora de Fin: </strong></label>
                    <div class="col-sm-10">
                        <input type="time" class="form-control" asp-for="Horario.HoraFin" required>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Vehículo: </strong></label>
                    <div class="col-sm-10">
                        <select class="form-control" asp-for="Horario.IdVehiculo" required>
                            <option value="">Seleccione un vehículo</option>
                            @foreach (var vehiculo in Model.Vehiculos)
                            {
                                <option value="@vehiculo.IdVehiculo">@vehiculo.Placa</option>
                            }
                        </select>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">Guardar Horario Único</button>
            </form>
        </div>
    </div>
    <hr />
    <p> O tambien: </p>
    <hr />
    <div class="card mt-4">
        <div class="card-body">
            <!-- Formulario para un rango de fechas -->
            <h3>Asignar múltiples horarios</h3>
            <form asp-action="Crear_RangoHorarios" method="post">
                <input type="hidden" asp-for="Conductor.IdConductor" />

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Fecha de Inicio: </strong></label>
                    <div class="col-sm-10">
                        <input type="date" class="form-control" name="FechaInicio" required>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Fecha de Fin: </strong></label>
                    <div class="col-sm-10">
                        <input type="date" class="form-control" name="FechaFin" required>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Hora de Inicio: </strong></label>
                    <div class="col-sm-10">
                        <input type="time" class="form-control" name="HoraInicio" required>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Hora de Fin: </strong></label>
                    <div class="col-sm-10">
                        <input type="time" class="form-control" name="HoraFin" required>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label"><strong>Vehículo: </strong></label>
                    <div class="col-sm-10">
                        <select class="form-control" name="IdVehiculo" required>
                            <option value="">Seleccione un vehículo</option>
                            @foreach (var vehiculo in Model.Vehiculos)
                            {
                                <option value="@vehiculo.IdVehiculo">@vehiculo.Placa</option>
                            }
                        </select>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">Guardar Rango de Horarios</button>
            </form>
        </div>
    </div>
}
else
{
    <p>No se encontró el usuario referenciado</p>
}

<p>@ViewBag.Mensaje</p>
<a href="javascript:history.back()" class="btn btn-success">Volver</a>